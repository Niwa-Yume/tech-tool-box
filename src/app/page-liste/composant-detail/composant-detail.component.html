<div class="container mx-auto px-4 py-8" *ngIf="outil">
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
    <!-- Colonne de gauche pour l'image et les actions principales -->
    <div class="md:col-span-1">
      <p-card>
        <ng-template pTemplate="header">
          <p-image [src]="outil.image" [alt]="outil.nom" imageClass="w-full h-auto" [preview]="true"></p-image>
        </ng-template>
        <ng-template pTemplate="content">
          <h1 class="text-3xl font-bold text-indigo-800 mb-4">{{ outil.nom }}</h1>
          <p-button label="Essayer maintenant" icon="pi pi-external-link" (onClick)="ouvrirLienAffiliation()" styleClass="p-button-raised p-button-rounded w-full mb-2"></p-button>
          <p-button label="Partager" icon="pi pi-share-alt" styleClass="p-button-outlined p-button-rounded w-full"></p-button>
        </ng-template>
      </p-card>
    </div>

    <!-- Colonne de droite pour les détails -->
    <div class="md:col-span-2">
      <p-tabView>
        <p-tabPanel header="Description">
          <p-panel [toggleable]="true" [collapsed]="false">
            <ng-template pTemplate="header">
              Description de l'outil
            </ng-template>
            <ng-template pTemplate="content">
              <p class="text-gray-700">{{ outil.description }}</p>
            </ng-template>
          </p-panel>
        </p-tabPanel>

        <p-tabPanel header="Fonctionnalités" *ngIf="outil.fonctionnalitesPrincipales?.length">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <p-card *ngFor="let fonctionnalite of outil.fonctionnalitesPrincipales">
              <ng-template pTemplate="header">
                <i class="pi pi-check-circle text-green-500 mr-2"></i>
                {{ fonctionnalite }}
              </ng-template>
            </p-card>
          </div>
        </p-tabPanel>

        <p-tabPanel header="Utilisateurs cibles" *ngIf="outil.utilisateursCibles?.length">
          <p-chip *ngFor="let utilisateur of outil.utilisateursCibles" [label]="utilisateur" styleClass="mr-2 mb-2"></p-chip>
        </p-tabPanel>
      </p-tabView>

      <div class="mt-6">
        <h3 class="text-xl font-semibold text-indigo-700 mb-2">Tags</h3>
        <p-chip *ngFor="let tag of outil.tags" [label]="tag" styleClass="mr-2 mb-2"></p-chip>
      </div>
    </div>
  </div>
</div>
